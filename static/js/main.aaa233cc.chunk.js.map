{"version":3,"sources":["contexts/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeleteCardPopup.js","components/ImagePopup.js","utils/api.js","utils/constants.js","components/App.js","serviceWorker.js","index.js"],"names":["React","createContext","name","about","avatar","Header","props","className","Card","currentUser","useContext","CurrentUserContext","card","onCardClick","onCardLike","onDeleteCard","_isOwner","_id","owner","_isLiked","likes","some","onClick","e","preventDefault","href","src","link","alt","length","Main","onEditAvatar","type","onEditProfile","onAddPlace","cards","map","key","Footer","PopupWithForm","useEffect","_handleEscClose","evt","onClose","isOpen","document","addEventListener","removeEventListener","target","classList","contains","title","noValidate","onSubmit","children","EditProfilePopup","useState","setName","description","setDescription","inProcess","setInProcess","onUpdateUser","then","id","placeholder","required","minLength","maxLength","value","onChange","EditAvatarPopup","avatarInput","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setTitle","setLink","ConfirmDeleteCardPopup","ImagePopup","options","this","_baseUrl","baseUrl","_headers","headers","url","fetch","res","ok","json","Promise","reject","statusText","status","_fetch","method","body","JSON","stringify","cardId","liked","authorization","App","setUserData","isEditAvatarPopupOpen","setAvatarPopupOpened","isEditProfilePopupOpen","setProfilePopupOpened","isAddPlacePopupOpen","setPlacePopupOpened","cardToDelete","setCardToDelete","selectedCard","setSelectedCard","setCards","closeAllPopups","api","getInitialCards","catch","err","console","log","getProfile","newUser","Provider","isLiked","changeLikeCardStatus","newCard","newCards","c","updateAvatar","updateProfile","addCard","deleteCard","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.aaa233cc.chunk.js","sourcesContent":["import React from 'react';\n\nexport default React.createContext({\n  name: null,\n  about: null,\n  avatar: null,\n});\n","import React from 'react';\n\nexport default function Header(props) {\n    return (\n        <header className=\"header\">\n            <div className=\"logo header__logo\"></div>\n        </header>\n    );\n}\n","import React from 'react';\n\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nexport default function Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const {card, onCardClick, onCardLike, onDeleteCard} = props;\n\n  function handleCardClick(e) {\n    e.preventDefault();\n\n    onCardClick(card);\n  }\n\n  function handleCardLike() {\n    onCardLike(card);\n  }\n\n  function handleCardDelete() {\n    onDeleteCard(card);\n  }\n\n  const _isOwner = currentUser._id === card.owner._id;\n  const _isLiked = card.likes.some(({_id}) => _id === currentUser._id);\n\n  return (\n    <li className=\"element\">\n      <a className=\"element__photo-link\" onClick={handleCardClick} href=\"/\">\n        <img className=\"element__photo\" src={card.link} alt={card.name} />\n      </a>\n      <div className={`button button_action_trash element__delete ${!_isOwner && 'button_state_invisible'}`} onClick={handleCardDelete}></div>\n      <div className=\"element__panel\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__like-wrapper\" onClick={handleCardLike}>\n          <div className={`button button_action_empty-heart element__like-btn ${_isLiked && 'button_action_fill-heart'}`}></div>\n          <span className=\"element__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  );\n}\n","import React from 'react';\n\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nimport Card from './Card.js';\n\nexport default function Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <div className=\"button button_action_pencil profile__edit-avatar\" onClick={props.onEditAvatar}></div>\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\n        </div>\n        <article className=\"profile__info\">\n          <div className=\"profile__info-top\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button type=\"button\" className=\"button button_action_pencil profile__edit-button\" onClick={props.onEditProfile}></button>\n          </div>\n          <div className=\"profile__info-bottom\">\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n          </div>\n        </article>\n        <button type=\"button\" className=\"button button_action_cross profile__add-button\" onClick={props.onAddPlace}></button>\n      </section>\n      <ul className=\"elements\">\n        {props.cards.map((card) => (\n          <Card key={card._id} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onDeleteCard={props.onDeleteCard}/>\n        ))}\n      </ul>\n    </main>\n  );\n}\n","import React from 'react';\n\nexport default function Footer(props) {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    );\n}\n","import React from 'react';\n\nexport default function PopupWithForm(props) {\n  function _handleClickClose(evt) {\n    if (evt.target.classList.contains('popup__close-button')\n      || evt.target.classList.contains('popup')) {\n      props.onClose();\n    }\n  }\n\n  React.useEffect(() => {\n    function _handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        props.onClose();\n      }\n    }\n\n    if (props.isOpen) {\n      document.addEventListener('keyup', _handleEscClose);\n    }\n\n    return () => {\n      document.removeEventListener('keyup', _handleEscClose);\n    }\n  });\n\n  return (\n    <section className={`popup page__popup-${props.name} ${props.isOpen ? 'popup_opened' : ''}`} onClick={_handleClickClose}>\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"button button_action_cross popup__close-button\" onClick={props.onClose}></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form name={`${props.name}-form`} className=\"popup__form\" noValidate onSubmit={props.onSubmit}>\n          {props.children}\n        </form>\n      </div>\n    </section>\n  );\n}\n","import React from 'react';\n\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\nimport PopupWithForm from './PopupWithForm.js';\n\nexport default function EditProfilePopup(props) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const [inProcess, setInProcess] = React.useState(false);\n\n  const currentUser = React.useContext(CurrentUserContext);\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    setInProcess(true);\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    }).then(() => {\n      setInProcess(false);\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__input-wrap\">\n        <input name=\"profile-name\" id=\"profile-name\" className=\"input popup__input input_state_initial\" type=\"text\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" value={name} onChange={handleNameChange}/>\n        <span id=\"profile-name-error\" className=\"popup__input-error\"></span>\n      </label>\n      <label className=\"popup__input-wrap\">\n        <input name=\"profile-about\" id=\"profile-about\" className=\"input popup__input input_state_initial\" type=\"text\" placeholder=\"Профессия\" required minLength=\"2\" maxLength=\"200\" value={description} onChange={handleDescriptionChange}/>\n        <span id=\"profile-about-error\" className=\"popup__input-error\"></span>\n      </label>\n      <button className=\"button popup__submit popup__submit_state_enable\" type=\"submit\">{inProcess ? 'Сохранение...' : 'Сохранить'}</button>\n    </PopupWithForm>\n  )\n}\n","import React from 'react';\n\nimport PopupWithForm from './PopupWithForm.js';\n\nexport default function EditAvatarPopup(props) {\n  const avatarInput = React.useRef(null);\n  const [inProcess, setInProcess] = React.useState(false);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    setInProcess(true);\n\n    props.onUpdateAvatar({\n      avatar: avatarInput.current.value,\n    }).then(() => {\n      setInProcess(false);\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__input-wrap\">\n        <input name=\"avatar-link\" id=\"avatar-link\" className=\"input popup__input input_state_initial\" type=\"url\" placeholder=\"Ссылка на фотографию\" required ref={avatarInput}/>\n        <span id=\"avatar-link-error\" className=\"popup__input-error\"></span>\n      </label>\n      <button className=\"button popup__submit popup__submit_state_enable\" type=\"submit\">{inProcess ? 'Сохранение...' : 'Сохранить'}</button>\n    </PopupWithForm>\n  )\n}\n","import React from 'react';\n\nimport PopupWithForm from './PopupWithForm.js';\n\nexport default function AddPlacePopup(props) {\n  const [title, setTitle] = React.useState('');\n  const [link, setLink] = React.useState('');\n  const [inProcess, setInProcess] = React.useState(false);\n\n  function handleTitleChange(evt) {\n    setTitle(evt.target.value);\n  }\n\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    setInProcess(true);\n\n    props.onAddPlace({\n      title,\n      link,\n    }).then(() => {\n      setInProcess(false);\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"element\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__input-wrap\">\n        <input name=\"element-title\" id=\"element-title\" className=\"input popup__input input_state_initial\" type=\"text\" placeholder=\"Название\" required minLength=\"1\" maxLength=\"30\" value={title} onChange={handleTitleChange}/>\n        <span id=\"element-title-error\" className=\"popup__input-error\"></span>\n      </label>\n      <label className=\"popup__input-wrap\">\n        <input name=\"element-link\" id=\"element-link\" className=\"input popup__input input_state_initial\" type=\"url\" placeholder=\"Ссылка на картинку\" required value={link} onChange={handleLinkChange}/>\n        <span id=\"element-link-error\" className=\"popup__input-error\"></span>\n      </label>\n      <button className=\"button popup__submit popup__submit_state_enable\" type=\"submit\">{inProcess ? 'Подождите...' : 'Создать'}</button>\n    </PopupWithForm>\n  )\n}\n","import React from 'react';\n\nimport PopupWithForm from './PopupWithForm.js';\n\nexport default function ConfirmDeleteCardPopup(props) {\n  const [inProcess, setInProcess] = React.useState(false);\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    setInProcess(true);\n\n    props.onDeleteCard(props.card).then(() => {\n      setInProcess(false);\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" isOpen={!!props.card} onClose={props.onClose} onSubmit={handleSubmit}>\n      <button className=\"button popup__submit popup__submit_state_enable\" type=\"submit\">{inProcess ? 'Подождите...' : 'Да'}</button>\n    </PopupWithForm>\n  )\n}\n","import React from 'react';\n\nexport default function ImagePopup(props) {\n  const {card} = props;\n\n  function _handleClickClose(evt) {\n    if (evt.target.classList.contains('popup__close-button')\n      || evt.target.classList.contains('popup')) {\n      props.onClose();\n    }\n  }\n\n  React.useEffect(() => {\n    function _handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        props.onClose();\n      }\n    }\n\n    if (card) {\n      document.addEventListener('keyup', _handleEscClose);\n    }\n\n    return () => {\n      document.removeEventListener('keyup', _handleEscClose);\n    }\n  });\n\n  return card && (\n    <section className={`popup page__popup-photo ${card ? 'popup_opened' : ''}`} onClick={_handleClickClose}>\n      <div className=\"popup__figure-container\">\n        <button type=\"button\" className=\"button button_action_cross popup__close-button\"></button>\n        <figure className=\"popup__figure\">\n          <img className=\"popup__photo\" src={card.link} alt={card.name} />\n          <figcaption className=\"popup__figcaption\">{card.name}</figcaption>\n        </figure>\n      </div>\n    </section>\n  );\n}\n","import {\n  cohortId,\n  authToken,\n} from './constants.js';\n\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _fetch(url, options) {\n    return fetch(url, options)\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`${res.statusText}: ${res.status}`);\n      });\n  }\n\n  getProfile() {\n    return this._fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    });\n  }\n\n  updateProfile(name, about) {\n    return this._fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        ...this._headers,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({name, about})\n    });\n  }\n\n  updateAvatar(avatar) {\n    return this._fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        ...this._headers,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({avatar})\n    });\n  }\n\n  getInitialCards() {\n    return this._fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    });\n  }\n\n  addCard(name, link) {\n    return this._fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        ...this._headers,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({name, link})\n    });\n  }\n\n  deleteCard(cardId) {\n    return this._fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    });\n  }\n\n  changeLikeCardStatus(cardId, liked) {\n    return this._fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: liked ? 'PUT' : 'DELETE',\n      headers: this._headers,\n    });\n  }\n}\n\nexport default new Api({\n  baseUrl: `https://mesto.nomoreparties.co/v1/${cohortId}`,\n  headers: {\n    authorization: authToken,\n  }\n});\n","export const cohortId = 'cohort-15';\nexport const authToken = '359b95d1-25dd-40f7-8f18-447a7bfe930e';\n","import React from 'react';\n\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ConfirmDeleteCardPopup from './ConfirmDeleteCardPopup.js';\nimport ImagePopup from './ImagePopup.js';\n\nimport api from '../utils/api.js';\n\nfunction App() {\n  const [currentUser, setUserData] = React.useState({});\n  const [isEditAvatarPopupOpen, setAvatarPopupOpened] = React.useState(false);\n  const [isEditProfilePopupOpen, setProfilePopupOpened] = React.useState(false);\n  const [isAddPlacePopupOpen, setPlacePopupOpened] = React.useState(false);\n  const [cardToDelete, setCardToDelete] = React.useState(null);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((cards) => {\n        setCards([...cards]);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api.getProfile()\n      .then((newUser) => {\n        setUserData(newUser)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleUpdateUser({name, about}) {\n    return api.updateProfile(name, about)\n      .then((newUser) => {\n        setUserData(newUser);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar({avatar}) {\n    return api.updateAvatar(avatar)\n      .then((newUser) => {\n        setUserData(newUser);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit({title, link}) {\n    return api.addCard(title, link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(({_id}) => _id === currentUser._id);\n\n    return api.changeLikeCardStatus(card._id, !isLiked)\n      .then(newCard => {\n        const newCards = cards.map(c => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    return api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter(c => c._id !== card._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleEditAvatarClick() {\n    setAvatarPopupOpened(true);\n  }\n\n  function handleEditProfileClick() {\n    setProfilePopupOpened(true);\n  }\n\n  function handleAddPlaceClick() {\n    setPlacePopupOpened(true);\n  }\n\n  function handleDeleteCardClick(card) {\n    setCardToDelete(card);\n  }\n\n  function closeAllPopups() {\n    setAvatarPopupOpened(false);\n    setProfilePopupOpened(false);\n    setPlacePopupOpened(false);\n    setSelectedCard(null);\n    setCardToDelete(null);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page__content\">\n        <Header />\n        <Main\n          onEditAvatar={handleEditAvatarClick}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onDeleteCard={handleDeleteCardClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n        />\n        <Footer />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n        <ConfirmDeleteCardPopup card={cardToDelete} onClose={closeAllPopups} onDeleteCard={handleCardDelete} />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}